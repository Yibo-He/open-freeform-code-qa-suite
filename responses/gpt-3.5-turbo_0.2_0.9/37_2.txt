To obtain the screen height in Android with API level above 30, you can use the following code:

```
val wm = fragmentActivity.getSystemService(Context.WINDOW_SERVICE) as WindowManager

fun getWidthHeight(wm: WindowManager): Int {
    val windowMetrics = wm.currentWindowMetrics
    val insets = windowMetrics.windowInsets.getInsetsIgnoringVisibility(WindowInsets.Type.systemBars())

    val height = windowMetrics.bounds.height() - insets.bottom - insets.top

    return height
}
```

This code uses the `WindowMetrics` class to obtain the screen height. The `WindowMetrics` class provides information about the current window size and position, including any insets that are currently applied to the window. 

The `getInsetsIgnoringVisibility()` method is used to obtain the insets of the system bars (such as the status bar and navigation bar) and the display cutout. These insets are subtracted from the total screen height to obtain the usable screen height.

Finally, the function returns the height of the usable screen.