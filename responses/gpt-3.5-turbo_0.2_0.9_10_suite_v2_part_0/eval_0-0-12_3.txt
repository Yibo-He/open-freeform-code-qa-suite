The error message `Error: Invalid login: 535-5.7.8 Username and Password not accepted` usually occurs when the Gmail account has not been configured to allow access from less secure apps. To fix this issue, you need to enable "Allow less secure apps" in your Gmail account settings. Here are the steps to follow:

1. Go to your Google Account settings page: https://myaccount.google.com/security
2. Scroll down to the "Less secure app access" section and turn on the toggle switch.
3. Try running your code again.

If you are still facing the same issue, you can try using an app password instead of your account password. Here are the steps to generate an app password:

1. Go to your Google Account settings page: https://myaccount.google.com/security
2. Scroll down to the "Signing in to Google" section and click on "App passwords".
3. Select "Mail" and "Other (custom name)" from the drop-down menus.
4. Enter a name for your app password and click on "Generate".
5. Copy the generated password and use it in your code instead of your account password.

I hope this helps!